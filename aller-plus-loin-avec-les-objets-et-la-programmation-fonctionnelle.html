<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio</title>
  <meta name="description" content="Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio (module socle)" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio (module socle)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio" />
  
  <meta name="twitter:description" content="Chapitre 10 Aller plus loin avec les objets et la programmation fonctionnelle | Découvrir R et RStudio (module socle)" />
  

<meta name="author" content="Thierry Zorn, Murielle Lethrosne, Vivien Roussez, Pascal Irz &amp; Nicolas Torterotot" />


<meta name="date" content="2021-10-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sauvegarder-son-travail.html"/>
<link rel="next" href="exercices-corrigés.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><img src="https://mtes-mct.github.io/parcours-r/assets/images/logo_marianne_fond_blanc.png" style="width:100px;"/></p></li>
<li><a href="./">Découvrir R et RStudio</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#le-parcours-de-formation"><i class="fa fa-check"></i><b>1.1</b> Le parcours de formation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#objectifs-du-module-1"><i class="fa fa-check"></i><b>1.2</b> Objectifs du module 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html"><i class="fa fa-check"></i><b>2</b> R, son écosystème et ses possibilités</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#le-groupe-de-référents"><i class="fa fa-check"></i><b>2.1</b> Le groupe de référents</a></li>
<li class="chapter" data-level="2.2" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#r-cest-quoi"><i class="fa fa-check"></i><b>2.2</b> R c’est quoi ?</a></li>
<li class="chapter" data-level="2.3" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#un-peu-dhistoire"><i class="fa fa-check"></i><b>2.3</b> Un peu d’histoire</a></li>
<li class="chapter" data-level="2.4" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#un-logiciel-libre"><i class="fa fa-check"></i><b>2.4</b> Un logiciel libre</a></li>
<li class="chapter" data-level="2.5" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#que-peut-on-faire-avec-r"><i class="fa fa-check"></i><b>2.5</b> Que peut-on faire avec R ?</a></li>
<li class="chapter" data-level="2.6" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#un-logiciel-modulaire"><i class="fa fa-check"></i><b>2.6</b> Un logiciel modulaire</a></li>
<li class="chapter" data-level="2.7" data-path="r-son-écosystème-et-ses-possibilités.html"><a href="r-son-écosystème-et-ses-possibilités.html#des-exemples-de-ce-quon-peut-faire-avec-r"><i class="fa fa-check"></i><b>2.7</b> Des exemples de ce qu’on peut faire avec R :</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html"><i class="fa fa-check"></i><b>3</b> Présentation de l’interface et premières manipulations</a>
<ul>
<li class="chapter" data-level="3.1" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#une-interface-dédiée-rstudio"><i class="fa fa-check"></i><b>3.1</b> Une interface dédiée : RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#session-et-répertoire-de-travail"><i class="fa fa-check"></i><b>3.2</b> Session et répertoire de travail</a></li>
<li class="chapter" data-level="3.3" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#cest-à-vous-créer-son-répertoire-de-travail"><i class="fa fa-check"></i><b>3.3</b> C’est à vous : créer son répertoire de travail</a></li>
<li class="chapter" data-level="3.4" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#prise-en-main-de-la-console"><i class="fa fa-check"></i><b>3.4</b> Prise en main de la console</a></li>
<li class="chapter" data-level="3.5" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#création-dune-variable"><i class="fa fa-check"></i><b>3.5</b> Création d’une variable</a></li>
<li class="chapter" data-level="3.6" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#cest-à-vous-créer-et-manipuler-des-variables"><i class="fa fa-check"></i><b>3.6</b> C’est à vous : créer et manipuler des variables</a></li>
<li class="chapter" data-level="3.7" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#utilité-des-scripts"><i class="fa fa-check"></i><b>3.7</b> Utilité des scripts</a></li>
<li class="chapter" data-level="3.8" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#cest-à-vous-utiliser-un-script"><i class="fa fa-check"></i><b>3.8</b> C’est à vous : utiliser un script</a></li>
<li class="chapter" data-level="3.9" data-path="présentation-de-linterface-et-premières-manipulations.html"><a href="présentation-de-linterface-et-premières-manipulations.html#installer-et-charger-un-package"><i class="fa fa-check"></i><b>3.9</b> Installer et charger un <em>package</em></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bien-commencer.html"><a href="bien-commencer.html"><i class="fa fa-check"></i><b>4</b> Bien commencer</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bien-commencer.html"><a href="bien-commencer.html#créer-un-projet-sous-rstudio-pour-vous-permettre-de-recenser-vos-travaux."><i class="fa fa-check"></i><b>4.1</b> Créer un projet sous Rstudio pour vous permettre de recenser vos travaux.</a></li>
<li class="chapter" data-level="4.2" data-path="bien-commencer.html"><a href="bien-commencer.html#intégrer-vos-données"><i class="fa fa-check"></i><b>4.2</b> Intégrer vos données</a></li>
<li class="chapter" data-level="4.3" data-path="bien-commencer.html"><a href="bien-commencer.html#créer-votre-arborescence-de-projet"><i class="fa fa-check"></i><b>4.3</b> Créer votre arborescence de projet</a></li>
<li class="chapter" data-level="4.4" data-path="bien-commencer.html"><a href="bien-commencer.html#utilisation-du-package-savoirfr"><i class="fa fa-check"></i><b>4.4</b> Utilisation du package savoirfR</a></li>
<li class="chapter" data-level="4.5" data-path="bien-commencer.html"><a href="bien-commencer.html#activer-les-packages-nécessaires"><i class="fa fa-check"></i><b>4.5</b> Activer les packages nécessaires</a></li>
<li class="chapter" data-level="4.6" data-path="bien-commencer.html"><a href="bien-commencer.html#bien-structurer-ses-projets-data"><i class="fa fa-check"></i><b>4.6</b> Bien structurer ses projets <em>data</em></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html"><i class="fa fa-check"></i><b>5</b> Mon premier jeu de données</a>
<ul>
<li class="chapter" data-level="5.1" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#les-types-de-valeurs-dans-r"><i class="fa fa-check"></i><b>5.1</b> Les types de valeurs dans R</a></li>
<li class="chapter" data-level="5.2" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#les-vecteurs"><i class="fa fa-check"></i><b>5.2</b> Les vecteurs</a></li>
<li class="chapter" data-level="5.3" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#les-dataframes"><i class="fa fa-check"></i><b>5.3</b> Les dataframes</a></li>
<li class="chapter" data-level="5.4" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#les-fonctions-et-les-valeurs-particulières"><i class="fa fa-check"></i><b>5.4</b> Les fonctions et les valeurs particulières</a></li>
<li class="chapter" data-level="5.5" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#importation-de-données"><i class="fa fa-check"></i><b>5.5</b> Importation de données</a></li>
<li class="chapter" data-level="5.6" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#gérer-le-type-des-variables"><i class="fa fa-check"></i><b>5.6</b> Gérer le type des variables</a></li>
<li class="chapter" data-level="5.7" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#structure-des-données-le-dataframe"><i class="fa fa-check"></i><b>5.7</b> Structure des données : le <em>dataframe</em></a></li>
<li class="chapter" data-level="5.8" data-path="mon-premier-jeu-de-données.html"><a href="mon-premier-jeu-de-données.html#exercice-importer-des-données-et-premier-coup-doeil"><i class="fa fa-check"></i><b>5.8</b> Exercice : importer des données et premier coup d’oeil</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html"><i class="fa fa-check"></i><b>6</b> Première manipulation des données</a>
<ul>
<li class="chapter" data-level="6.1" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#afficher-les-valeurs-et-manipuler-les-variables"><i class="fa fa-check"></i><b>6.1</b> Afficher les valeurs et manipuler les variables</a></li>
<li class="chapter" data-level="6.2" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#créer-de-nouvelles-variables"><i class="fa fa-check"></i><b>6.2</b> Créer de nouvelles variables</a></li>
<li class="chapter" data-level="6.3" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#sélectionner-des-variables"><i class="fa fa-check"></i><b>6.3</b> Sélectionner des variables</a></li>
<li class="chapter" data-level="6.4" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#filtrer-des-observations"><i class="fa fa-check"></i><b>6.4</b> Filtrer des observations</a></li>
<li class="chapter" data-level="6.5" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#les-tests-logiques-dans-r"><i class="fa fa-check"></i><b>6.5</b> Les tests logiques dans R</a></li>
<li class="chapter" data-level="6.6" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#renommer-des-colonnes"><i class="fa fa-check"></i><b>6.6</b> Renommer des colonnes</a></li>
<li class="chapter" data-level="6.7" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#exercice-créer-filtrer-sélectionner"><i class="fa fa-check"></i><b>6.7</b> Exercice : créer, filtrer, sélectionner</a></li>
<li class="chapter" data-level="6.8" data-path="première-manipulation-des-données.html"><a href="première-manipulation-des-données.html#nom-dun-pipe"><i class="fa fa-check"></i><b>6.8</b> Nom d’un pipe <code>%&gt;%</code> !</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html"><i class="fa fa-check"></i><b>7</b> Premiers traitements statistiques</a>
<ul>
<li class="chapter" data-level="7.1" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#obtenir-des-informations"><i class="fa fa-check"></i><b>7.1</b> Obtenir des informations</a></li>
<li class="chapter" data-level="7.2" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#calculer-des-statistiques-spécifiques"><i class="fa fa-check"></i><b>7.2</b> Calculer des statistiques spécifiques</a></li>
<li class="chapter" data-level="7.3" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#agréger-des-données"><i class="fa fa-check"></i><b>7.3</b> Agréger des données</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#globalement"><i class="fa fa-check"></i><b>7.3.1</b> Globalement</a></li>
<li class="chapter" data-level="7.3.2" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#selon-un-facteur"><i class="fa fa-check"></i><b>7.3.2</b> Selon un facteur</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#tableau-de-contingence"><i class="fa fa-check"></i><b>7.4</b> Tableau de contingence</a></li>
<li class="chapter" data-level="7.5" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#tableau-de-proportions"><i class="fa fa-check"></i><b>7.5</b> Tableau de proportions</a></li>
<li class="chapter" data-level="7.6" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#exercice-calcul-de-statistiques"><i class="fa fa-check"></i><b>7.6</b> Exercice : calcul de statistiques</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html"><i class="fa fa-check"></i><b>8</b> Premiers graphiques</a>
<ul>
<li class="chapter" data-level="8.1" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#package-ggplot2"><i class="fa fa-check"></i><b>8.1</b> Package ggplot2</a></li>
<li class="chapter" data-level="8.2" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#histogramme"><i class="fa fa-check"></i><b>8.2</b> Histogramme</a></li>
<li class="chapter" data-level="8.3" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#nuages-de-points"><i class="fa fa-check"></i><b>8.3</b> Nuages de points</a></li>
<li class="chapter" data-level="8.4" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#matrice-de-nuages"><i class="fa fa-check"></i><b>8.4</b> Matrice de nuages</a></li>
<li class="chapter" data-level="8.5" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#bonus-faire-un-graphique-dynamique"><i class="fa fa-check"></i><b>8.5</b> Bonus : faire un graphique “dynamique”</a></li>
<li class="chapter" data-level="8.6" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#exercice-créer-des-graphiques"><i class="fa fa-check"></i><b>8.6</b> Exercice : créer des graphiques</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html"><i class="fa fa-check"></i><b>9</b> Sauvegarder son travail</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html#exportation-des-résultats"><i class="fa fa-check"></i><b>9.1</b> Exportation des résultats</a></li>
<li class="chapter" data-level="9.2" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html#environnement-et-.rdata"><i class="fa fa-check"></i><b>9.2</b> Environnement et <code>.RData</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><i class="fa fa-check"></i><b>10</b> Aller plus loin avec les objets et la programmation fonctionnelle</a>
<ul>
<li class="chapter" data-level="10.1" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#les-objets-dans-r-plus-de-détails"><i class="fa fa-check"></i><b>10.1</b> Les objets dans R, plus de détails</a></li>
<li class="chapter" data-level="10.2" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#créer-une-nouvelle-fonction-en-r"><i class="fa fa-check"></i><b>10.2</b> Créer une nouvelle fonction en R</a></li>
<li class="chapter" data-level="10.3" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#les-boucles-conditionnelles"><i class="fa fa-check"></i><b>10.3</b> Les boucles conditionnelles</a></li>
<li class="chapter" data-level="10.4" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#les-boucles"><i class="fa fa-check"></i><b>10.4</b> Les boucles</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#pour-aller-plus-loin-matrices-et-arrays"><i class="fa fa-check"></i><b>10.4.1</b> Pour aller plus loin : matrices et arrays</a></li>
<li class="chapter" data-level="10.4.2" data-path="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#inspection-dun-objet-la-régression"><i class="fa fa-check"></i><b>10.4.2</b> Inspection d’un objet : la régression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="exercices-corrigés.html"><a href="exercices-corrigés.html"><i class="fa fa-check"></i><b>11</b> Exercices corrigés</a>
<ul>
<li class="chapter" data-level="11.1" data-path="exercices-corrigés.html"><a href="exercices-corrigés.html#importer-des-données-et-premier-coup-doeil"><i class="fa fa-check"></i><b>11.1</b> 04 - importer des données et premier coup d’oeil</a></li>
<li class="chapter" data-level="11.2" data-path="exercices-corrigés.html"><a href="exercices-corrigés.html#créer-filtrer-sélectionner"><i class="fa fa-check"></i><b>11.2</b> 06 - créer, filtrer, sélectionner</a></li>
<li class="chapter" data-level="11.3" data-path="exercices-corrigés.html"><a href="exercices-corrigés.html#calcul-de-statistiques"><i class="fa fa-check"></i><b>11.3</b> 07 - calcul de statistiques</a></li>
<li class="chapter" data-level="11.4" data-path="exercices-corrigés.html"><a href="exercices-corrigés.html#créer-des-graphiques"><i class="fa fa-check"></i><b>11.4</b> 08 - créer des graphiques</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html"><i class="fa fa-check"></i><b>12</b> Exercices pour R Studio</a>
<ul>
<li class="chapter" data-level="12.1" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-1-prendre-en-main-rstudio-10-min."><i class="fa fa-check"></i><b>12.1</b> Exercice 1 : Prendre en main RStudio (10 min.)</a></li>
<li class="chapter" data-level="12.2" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-2-faire-ses-premiers-calculs-15-min."><i class="fa fa-check"></i><b>12.2</b> Exercice 2 : Faire ses premiers calculs (15 min.)</a></li>
<li class="chapter" data-level="12.3" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-3-créer-ses-premières-variables-15-min."><i class="fa fa-check"></i><b>12.3</b> Exercice 3 : Créer ses premières variables (15 min.)</a></li>
<li class="chapter" data-level="12.4" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-4-créer-son-premier-script-20-min."><i class="fa fa-check"></i><b>12.4</b> Exercice 4 : Créer son premier script (20 min.)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://mtes-mct.github.io/parcours-r/">Liste des formations R</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Découvrir R et RStudio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle" class="section level1" number="10">
<h1><span class="header-section-number">Chapitre 10</span> Aller plus loin avec les objets et la programmation fonctionnelle</h1>
<p>Ce qui a été présenté dans ce module repose sur les fonctions du package <code>tidyverse</code>. Cette approche tend à se généraliser depuis quelques années, mais quand on cherche la réponse à un problème sur Internet, on trouve d’autres façons de programmer en R, qui font appel aux fonctions du package <code>base</code> et non du <code>tidyverse</code>
<span class="math inline">\(\Rightarrow\)</span> Cette partie donne quelques clés de compréhension.</p>
<div id="les-objets-dans-r-plus-de-détails" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Les objets dans R, plus de détails</h2>
<p>Rappel : en informatique, un objet est défini par : ses <em>attributs</em> et ses <em>méthodes</em> (fonctions). Dans l’exemple du jeu d’échec, chaque pièce peut être vue comme un objet :</p>
<ul>
<li>sa position sur le plateau constitue ses attributs</li>
<li>sa façon de se déplacer peut être vue comme une fonction qui ne s’applique qu’à ce type de pièce, donc une méthode</li>
</ul>
<p>R est un langage orienté objet ; ces objets permettent de structurer les données selon leurs caractéristiques <span class="math inline">\(\Rightarrow\)</span> on retrouve les données dans les attributs. Les méthodes sont en général transparentes pour l’utilisateur (cf. utilisation des fonctions <code>summary</code>, <code>plot</code>…). Les objets les plus courants sont les suivants :</p>
<ul>
<li><strong>Vecteurs</strong> : suite unidimensionnelle de <strong>valeurs</strong> ayant le même type.</li>
<li><strong>Facteurs</strong> : vecteur qui prend un nombre limité de modalités (exemple : sexe). Il est défini par les niveaux (<code>levels</code>) et les libellés associés (<code>labels</code>).</li>
<li><strong>Matrice</strong> et <strong>arrays</strong> : suites multidimensionnelles de <strong>valeurs</strong> (matrices=dimension 2 ; array=dimension n).
A la différence d’une dataframe, les valeurs d’une matrice sont toutes du même type.
Les arrays peuvent être très puissants pour gérer des millésimes.</li>
<li><strong>Liste</strong> : ensemble d’<strong>objets</strong> différents. On peut stocker un vecteur alphanumérique + une matrice numérique dans une liste.</li>
<li><strong>Tableaux</strong> (<code>data.frame</code>) : Objet qui ressemble le plus aux tables Excel, SAS ou SPSS… : description d’individus statistiques (observations, en ligne) par des caractéristiques (variables, en colonnes).</li>
<li><strong>Fonctions</strong> : Objets particuliers qui donnent un <em>résultat</em> à partir de paramètres en entrée.</li>
<li><strong>Autres objets</strong> : Il existe un très grand nombre d’objets <em>ad hoc</em> dans R. Par exemple
<ul>
<li><em>ts</em> (time serie) pour les séries temporelles,</li>
<li><em>lm</em> (linear model) qui contient tous les résultats d’une régression linéraire…</li>
<li>des graphiques</li>
<li>On peut même en définir de nouveaux soi-même !</li>
</ul></li>
</ul>
</div>
<div id="créer-une-nouvelle-fonction-en-r" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Créer une nouvelle fonction en R</h2>
<p>La fonction est un objet comme les autres, qu’on crée avec l’opérateur d’affectation. Elle est définie par des paramètres et elle se termine par la fonction <code>return()</code>. On reprend l’exemple du calcul de l’IMC</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-1" aria-hidden="true" tabindex="-1"></a>calcul_IMC <span class="ot">&lt;-</span> <span class="cf">function</span> (poids, taille)</span>
<span id="cb90-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb90-3"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## La taille est exprimée en mètres</span></span>
<span id="cb90-4"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  imc <span class="ot">&lt;-</span> poids <span class="sc">/</span> taille <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb90-5"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (imc)</span>
<span id="cb90-6"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-7"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="fu">calcul_IMC</span> (<span class="at">poids =</span> <span class="dv">80</span>, <span class="at">taille =</span> <span class="fl">1.89</span>)</span></code></pre></div>
<pre><code>## [1] 22.39579</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calcul_IMC</span> (<span class="at">poids =</span> <span class="dv">60</span>, <span class="at">taille =</span> <span class="fl">1.55</span>)</span></code></pre></div>
<pre><code>## [1] 24.97399</code></pre>
</div>
<div id="les-boucles-conditionnelles" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Les boucles conditionnelles</h2>
<p>Les commandes <code>if</code> et <code>else</code> sont bien entendues utilisables. Le “then” n’existe pas : il est implicite après les accolades.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-1" aria-hidden="true" tabindex="-1"></a>diag_IMC <span class="ot">&lt;-</span> <span class="cf">function</span>(poids,taille)</span>
<span id="cb94-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb94-3"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-3" aria-hidden="true" tabindex="-1"></a>  imc <span class="ot">&lt;-</span> poids <span class="sc">/</span> taille <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb94-4"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (imc <span class="sc">&lt;</span> <span class="fl">18.5</span>) {diag <span class="ot">&lt;-</span> <span class="st">&quot;maigre&quot;</span>}</span>
<span id="cb94-5"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (imc <span class="sc">&lt;</span> <span class="dv">25</span>) {diag <span class="ot">&lt;-</span> <span class="st">&quot;normal&quot;</span>}</span>
<span id="cb94-6"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-6" aria-hidden="true" tabindex="-1"></a>       <span class="cf">else</span> {diag <span class="ot">&lt;-</span> <span class="st">&quot;surpoids&quot;</span>}</span>
<span id="cb94-7"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (diag)</span>
<span id="cb94-8"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb94-9"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="fu">diag_IMC</span> (<span class="at">poids=</span><span class="dv">60</span>,<span class="at">taille=</span><span class="fl">1.89</span>)</span></code></pre></div>
<pre><code>## [1] &quot;maigre&quot;</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diag_IMC</span> (<span class="at">poids=</span><span class="dv">80</span>,<span class="at">taille=</span><span class="fl">1.89</span>)</span></code></pre></div>
<pre><code>## [1] &quot;normal&quot;</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diag_IMC</span> (<span class="at">poids=</span><span class="dv">80</span>,<span class="at">taille=</span><span class="fl">1.55</span>)</span></code></pre></div>
<pre><code>## [1] &quot;surpoids&quot;</code></pre>
</div>
<div id="les-boucles" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Les boucles</h2>
<p>On peut utiliser les boucles classiques : <code>repeat</code>, <code>while</code>, <code>for</code> :</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (pp <span class="cf">in</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">50</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">5</span>))</span>
<span id="cb100-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb100-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb100-3"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span> (<span class="st">&quot;Taille = 1,70m, poids =&quot;</span>, pp, <span class="st">&quot;Diagnotic :&quot;</span>,</span>
<span id="cb100-4"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb100-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">diag_IMC</span> (<span class="at">poids =</span> pp, <span class="at">taille =</span> <span class="fl">1.70</span>)))</span>
<span id="cb100-5"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb100-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Taille = 1,70m, poids = 50 Diagnotic : maigre&quot;
## [1] &quot;Taille = 1,70m, poids = 55 Diagnotic : normal&quot;
## [1] &quot;Taille = 1,70m, poids = 60 Diagnotic : normal&quot;
## [1] &quot;Taille = 1,70m, poids = 65 Diagnotic : normal&quot;
## [1] &quot;Taille = 1,70m, poids = 70 Diagnotic : normal&quot;
## [1] &quot;Taille = 1,70m, poids = 75 Diagnotic : surpoids&quot;
## [1] &quot;Taille = 1,70m, poids = 80 Diagnotic : surpoids&quot;
## [1] &quot;Taille = 1,70m, poids = 85 Diagnotic : surpoids&quot;
## [1] &quot;Taille = 1,70m, poids = 90 Diagnotic : surpoids&quot;
## [1] &quot;Taille = 1,70m, poids = 95 Diagnotic : surpoids&quot;
## [1] &quot;Taille = 1,70m, poids = 100 Diagnotic : surpoids&quot;</code></pre>
<div id="pour-aller-plus-loin-matrices-et-arrays" class="section level3" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Pour aller plus loin : matrices et arrays</h3>
<p>Les matrices et les arrays permettent des calculs rapides et efficaces, et peuvent être très pratiques et optimisent le stockage des données. Ils demandent cependant plus de réflexion en amont quant à leur utilisation. On accède aux éléments avec les [].</p>
<p>Un hypercube de trois dimensions peut être représenté comme suit :
<img src="images/grille.jpg" style="width:50.0%" />
On peut par exemple créer une matrice à 10 lignes et 10 colonnes remplie avec un tirage aléatoire selon une loi normale centrée réduit.
De la même façon on peut créer un hypercube avec la fonction avec 10 lignes, 5 colonnes et de profondeur 3, toujours avec un tirage aléatoire selon une loi normale</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb102-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">50</span>), <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">nrow =</span> <span class="dv">10</span>)</span>
<span id="cb102-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb102-2" aria-hidden="true" tabindex="-1"></a>arr <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">rnorm</span>(<span class="dv">150</span>),<span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">5</span>,<span class="dv">3</span>))</span>
<span id="cb102-3"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb102-3" aria-hidden="true" tabindex="-1"></a>mat</span></code></pre></div>
<pre><code>##              [,1]        [,2]       [,3]       [,4]        [,5]
##  [1,]  0.73867499 -1.18790895 -1.3402946 -0.7495653 -0.09587523
##  [2,]  0.39178504  0.38605813  0.5117512 -0.3599257 -2.15917732
##  [3,]  0.86891409  0.00680873  1.2139595  1.1185753 -0.79164388
##  [4,]  0.18844768 -1.38315898 -0.3842037 -1.1285109  1.01670361
##  [5,] -0.04945695 -1.66721066  1.2908509  1.1211490  0.50673176
##  [6,]  1.19388966 -1.32184917 -1.9665243 -0.4229656 -1.32016644
##  [7,]  1.26453809 -0.12037826  1.9535958  0.9429899 -0.33905466
##  [8,]  2.91203309 -0.52248723  0.9023922  0.1434402  1.22580069
##  [9,]  0.05848285  0.40719594  0.2239685 -0.6883182  1.02337064
## [10,] -1.21360316 -0.21490125 -2.0717814 -2.3993805  0.25263171</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb104-1" aria-hidden="true" tabindex="-1"></a>arr</span></code></pre></div>
<pre><code>## , , 1
## 
##              [,1]       [,2]        [,3]        [,4]        [,5]
##  [1,]  1.11148740  0.2906956  2.77249253  1.51284237 -0.07396782
##  [2,]  0.66144023  0.6257931  0.33252322 -0.29013584  1.13671106
##  [3,] -0.38288207  0.1547622 -0.46277719 -0.84623571  0.15782580
##  [4,] -0.37052005  0.9067885  0.08858549 -0.41556094 -0.73262251
##  [5,] -0.13376712 -0.5873272 -0.68057116  0.95361893  0.08233261
##  [6,] -0.09267934 -0.5827964 -0.45732515 -1.00874532 -1.64391475
##  [7,]  0.27536564  0.6602809  0.14759550 -0.31660730  0.24753430
##  [8,] -1.33083574  0.9556659 -0.42218432 -0.23316003 -0.01892438
##  [9,]  0.39993852  0.7316346  1.27440649 -0.07436915  1.27452644
## [10,]  2.08566906  1.0874217  0.51916314  0.22366524  0.98115382
## 
## , , 2
## 
##               [,1]       [,2]       [,3]        [,4]        [,5]
##  [1,]  1.284429534 -1.0394701  0.8851568  0.36144069  0.97720845
##  [2,]  1.027872704  0.3348010 -0.2801261  1.50947693  0.43877357
##  [3,] -0.220327422  2.1020341  0.4545485  0.48481431 -0.49293387
##  [4,]  0.156085898  0.9280221 -0.4963520  1.12775118  0.92797762
##  [5,] -0.115290750 -0.2065668 -0.9048652 -0.36230911  1.01447291
##  [6,] -0.008410426 -1.3828674 -0.5006705 -0.35273810 -0.17005591
##  [7,] -0.392809033 -0.8709160  1.7823359  1.24434153  0.99829449
##  [8,]  0.578033053  0.7383678  0.4358463  0.08105035  0.01018401
##  [9,] -1.731618048 -0.8699203 -1.0802317  1.39940656 -1.03631405
## [10,] -1.520218420  0.2082806 -1.1659526 -0.51572295  0.09802111
## 
## , , 3
## 
##             [,1]       [,2]       [,3]         [,4]        [,5]
##  [1,] -0.8793354  0.3192640  0.1874373  0.530571822  1.36282945
##  [2,] -0.7333918 -0.6979733 -0.3879061  0.002409815 -0.84728066
##  [3,]  1.0073818  0.4719445  0.2555307  2.410893772 -0.23430264
##  [4,] -2.5936592 -1.3610165  0.5025238  1.263475879 -1.21303457
##  [5,] -1.4569229 -1.0815496  0.3280185 -1.196421268  0.30661937
##  [6,]  0.8281347 -0.9259745 -1.8032950 -0.412872074  0.02240785
##  [7,] -1.0049231  1.3639622  0.5419203  0.738537715  0.68362846
##  [8,]  0.4733445 -0.3614988  0.5255518 -0.093721843 -0.39762122
##  [9,]  1.0492578 -0.4242059 -1.7431366 -1.338174794 -0.78286209
## [10,]  0.9192919 -1.5629762 -1.3228311 -1.020610837 -2.34296305</code></pre>
<p><em>Pourquoi s’embêter avec ça ?</em> Parce qu’on peut appliquer des fonctions facilement sur les lignes, colonnes et autres dimensions grâce à la fonction <code>apply()</code>.
Exemple : résultats de validations croisées par bloc, simulations de loi selon différents paramètres. Et on calcule facilement des statistiques “marginales”.</p>
<p>Par, exemple, sur une matrice, on peut calculer des statistiques par lignes :</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(mat, <span class="at">MARGIN =</span> <span class="dv">1</span>, <span class="at">FUN=</span>mean)</span></code></pre></div>
<pre><code>##  [1] -0.5269938 -0.2459017  0.4833227 -0.3381445  0.2404128 -0.7675232
##  [7]  0.7403382  0.9322358  0.2049400 -1.1294069</code></pre>
<p>Ou par colonnes :</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(mat, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN=</span>mean)</span></code></pre></div>
<pre><code>## [1]  0.63537054 -0.56178317  0.03337141 -0.24225118 -0.06806791</code></pre>
<p>Sur notre hypercube de type <code>array</code>, on peut aussi calculer des stats sur ses différentes dimensions :</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span> (arr, <span class="at">MARGIN =</span> <span class="dv">3</span>, <span class="at">FUN=</span>mean)</span></code></pre></div>
<pre><code>## [1]  0.2098802  0.1174468 -0.2425105</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span> (arr, <span class="at">MARGIN =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">FUN =</span> mean)</span></code></pre></div>
<pre><code>##             [,1]         [,2]        [,3]
## [1,]  0.22232165 -0.094225291 -0.23908215
## [2,]  0.42429187 -0.005823487 -0.42600239
## [3,]  0.31119085 -0.087031089 -0.29161865
## [4,] -0.04946877  0.497751140  0.08840882
## [5,]  0.14106545  0.276562834 -0.34425791</code></pre>
</div>
<div id="inspection-dun-objet-la-régression" class="section level3" number="10.4.2">
<h3><span class="header-section-number">10.4.2</span> Inspection d’un objet : la régression</h3>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-35-1.png" width="576" /></p>
<p>La régression linéaire consiste à exprimer une variable Y en fonction d’une variable X dans une fonction linéaire. C’est à dire qu’on cherche a et b tels que : <span class="math display">\[ Y = a \cdot X + b + \epsilon\]</span>
où <span class="math inline">\(\epsilon\)</span> est le résidu de la régression. On utilise dans cet exemple la table des iris de Fisher, existant dans R base qu’il suffit d’appeler avec <code>data(iris)</code> (il existe d’autres dataframe inclus dans les packages et qui sont utilisés en exemple dans l’aide).</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span> (<span class="st">&quot;iris&quot;</span>)</span>
<span id="cb114-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span> (iris)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Faire la régression de la Sepal.Length sur Petal.length à l’aide de la fonction <code>lm()</code></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span> (<span class="at">data =</span> iris, <span class="at">formula =</span> Sepal.Length <span class="sc">~</span> Petal.Length)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Sepal.Length ~ Petal.Length, data = iris)
## 
## Coefficients:
##  (Intercept)  Petal.Length  
##       4.3066        0.4089</code></pre>
<p>On a les paramètres a et b mais on aimerait en savoir plus… Au moins la qualité d’ajustement (le <span class="math inline">\(R^2\)</span> par exemple), et un graphique des résidus pour détecter une éventuelle structure. Pour cela, stocker le résultat dans un nouvel objet, et explorez-le avec les fonctions <code>str()</code>, <code>summary()</code> et <code>plot()</code></p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb118-1" aria-hidden="true" tabindex="-1"></a>reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> iris, <span class="at">formula =</span> Sepal.Length <span class="sc">~</span> Petal.Length)</span>
<span id="cb118-2"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span> (reg)</span></code></pre></div>
<pre><code>## List of 12
##  $ coefficients : Named num [1:2] 4.307 0.409
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;(Intercept)&quot; &quot;Petal.Length&quot;
##  $ residuals    : Named num [1:150] 0.2209 0.0209 -0.1382 -0.32 0.1209 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ effects      : Named num [1:150] -71.566 8.812 -0.155 -0.337 0.104 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;(Intercept)&quot; &quot;Petal.Length&quot; &quot;&quot; &quot;&quot; ...
##  $ rank         : int 2
##  $ fitted.values: Named num [1:150] 4.88 4.88 4.84 4.92 4.88 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ assign       : int [1:2] 0 1
##  $ qr           :List of 5
##   ..$ qr   : num [1:150, 1:2] -12.2474 0.0816 0.0816 0.0816 0.0816 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##   ..$ qraux: num [1:2] 1.08 1.1
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..$ rank : int 2
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 148
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = Sepal.Length ~ Petal.Length, data = iris)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language Sepal.Length ~ Petal.Length
##   .. ..- attr(*, &quot;variables&quot;)= language list(Sepal.Length, Petal.Length)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##   .. .. .. ..$ : chr &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;order&quot;)= int 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(Sepal.Length, Petal.Length)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##  $ model        :&#39;data.frame&#39;:   150 obs. of  2 variables:
##   ..$ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##   ..$ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language Sepal.Length ~ Petal.Length
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(Sepal.Length, Petal.Length)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##   .. .. .. .. ..$ : chr &quot;Petal.Length&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;Petal.Length&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(Sepal.Length, Petal.Length)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span> (reg)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Sepal.Length ~ Petal.Length, data = iris)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1.24675 -0.29657 -0.01515  0.27676  1.00269 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   4.30660    0.07839   54.94   &lt;2e-16 ***
## Petal.Length  0.40892    0.01889   21.65   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.4071 on 148 degrees of freedom
## Multiple R-squared:   0.76,  Adjusted R-squared:  0.7583 
## F-statistic: 468.6 on 1 and 148 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="aller-plus-loin-avec-les-objets-et-la-programmation-fonctionnelle.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (reg)</span></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-38-1.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-38-2.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-38-3.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-38-4.png" width="576" /></p>
<p>Les <strong>méthodes</strong> summary, print et plot sont implémentées pour tous les objets en R, et on peut les utiliser pour avoir un premier aperçu de ce que l’on obtient avec la fonction.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sauvegarder-son-travail.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercices-corrigés.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Débuter-avec-R-et-RStudio.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
